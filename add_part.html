<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Add New Part To Database</title>
        <script src="jquery.js"></script>
        <script src="jquery.validate.js"></script>
        <script src="jquery.form.js"></script>

 <style type="text/css">
* { font-family: Verdana; font-size: 96%; }
label { width: 15em; float: left; color: green}
label.error { float: none; color: red; padding-left: .5em; vertical-align: top; }
p { font-weight: bold; clear: both; }
.submit { margin-left: 12em; }
</style>
  <script>
  $(document).ready(function(){
  	$("#customer").load('get_customer.php');  //load customer list from get_customer.php
    $("#adddrawing").validate();  //attach validater to form
	$('#customer').click(function(){
		var cid=$('#Customer_ID').val();
		if(cid!=''){
			
			$('#footer2').load("get_drawing_list.php?cid="+cid);
		}
		
	});
var options = {  ///options for ajaxSubnit function 
        target:        '#footer',   // target div id to update result of submit 
//        success:       showResponse  // post-submit callback 
        clearForm: true,        // clear all form fields after successful submit 
        resetForm: true        // reset the form after successful submit 
    };

	$("#addp").click(function(event) {

	 if($("#adddrawing").valid())
  	{
	  	event.preventDefault();  ///we are preventing the form submitting as we are using ajax to dynamically submitting
	    $("#adddrawing").ajaxSubmit(options);

  	}

		});
		
		
 


  });

  </script>




    </head>
    <body>
<div id="adraw">
  <form name ="adddrawing" id="adddrawing" action="add_part.php" method="post" enctype="multipart/form-data">
 <fieldset>
<legend>New Part Details</legend>
   <p>
     <label for="cname">Customer's Name</label>
     <div id="customer"> </div>
   <p>
     <label for="drawingno">Drawing Number</label>
     <input id="drawingno" name="drawingno" size="25"  class="required" />
   </p>

   <p>
     <label for="drawingno">Revision Number</label>
     <input id="revno" name="revno" size="25" />
   </p>

   <p>
     <label for="componentname">Component Name</label>
     <input id="componentname" name="componentname" size="25" class="required"/>
   </p>
   <p>
     <label for="mspec">Component Material</label>
     <input id="mspec" name="mspec" size="25"  value="" />
   </p>

   <p>
     <label for="cblank">Raw Material Size</label>
     <input id="cblank" name="cblank" size="25"  value="" />
   </p>

   <p>
     <label for="pmblank">Pre Machined Blank Size</label>
     <input id="pmblank" name="pmblank" size="25"  value="" />
   </p>

   <p>
     <label for="pmblank">Finish Size</label>
     <input id="fsize" name="fsize" size="25"  value="" />
   </p>

   <p>
     <label>Recovarable Scrap Weight</label>
     <input id="sweight" name="sweight" size="25"  class="number"/>
   </p>


   <p>
     <label for="drg">Select Drawing </label>
     <input id="drg" name="drg" type="file" />
   </p>

   <p>
     <label for="process">Select Process Sheet </label>
     <input type="file" id="process" name="process" />
   </p>

   <p>
     <label for="preview">Select Pre View Image </label>
     <input type="file" id="preview" name="preview" />
   </p>


   <p>
     <input class="submit" id="addp" type="submit" value="Submit"/>
   </p>
 </fieldset>
 </form>
<div id="footer"> </div>
<div id="footer2"> </div>
</div>

</body>
</html>
